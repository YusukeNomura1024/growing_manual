<main>
  <%= render 'breadlists/category_index', categories: @categories %>
  <p class="main__content-title main__content-title--small">
    クリックでカテゴリー検索
  </p>
  <div class="main__content">
    <%= form_with model: @category, local: true, class: "input_group" do |f| %>
      <% @category.errors.full_messages_for(:name).each do |message| %>
        <div class="error_area"><%= message %></div>
      <% end %>
      <%= f.text_field :name, placeholder: "カテゴリーを入力", class: "input_group__form" %>
      <%= f.submit '新規登録', class: "input_group__button btn btn-outline-primary" %>
    <% end %>
  </div>

  <div class="main__content panel">
    <div class="panel__main">
      <ul>
      <% @categories.each do |category| %>
      <li class="category_list">
        <%= link_to "#{category.name} (#{category.memos.count}件)", category_path(category), class: "category_list__name" %>
        <%= link_to "削除する", category_path(category), method: :delete, data: { confirm: '削除しますか？' }, class: "btn btn-outline-danger btn--small" %>
      </li>
      <% end %>
      </ul>
    </div>
  </div>
</main>